<!DOCTYPE html>
<html lang="en">

<head>
  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A portfolio and blog for Rowan, a developer, artist, and musician.">
    <meta name="keywords" content="Unity, Bevy, JavaScript, Rust, C#, HTML, CSS, Game Development, Programming, Music, Art">
    <meta name="author" content="Rowan">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>
  
    Simplifying Code with Components - Kitsune Cafe
  
  </title>
    <link rel="preload" href="/public/fonts/sintony/Sintony-Regular.ttf" as="font" type="font/ttf">
    <link rel="preload" href="/public/fonts/raleway/Raleway-VariableFont_wght.ttf" as="font" type="font/ttf">
    <link rel="preload" href="/public/fonts/fira-code/FiraCode-VariableFont_wght.ttf" as="font" type="font/ttf">
    <link rel="stylesheet" href="/public/css/style.css">
  
</head>

<body>
    <div class="full-width center flex column">
      <div class="main-container flex column full-width has-half-gap">
        <nav class="center-horizontally flex row center-text space-evenly has-border-bottom has-quarter-padding has-bg has-shadow">
  <div><a href="/">Home</a></div>
  <div><a href="/blog">Blog</a></div>
  <div><a href="/projects">Projects</a></div>
</nav>


        
<main class="flex column has-border-radius has-padding has-bg has-shadow">
    <h1>Simplifying Code with Components</h1>
<p>Unity is a component-based game engine. Without any context, &quot;component&quot; is a nebulous and vague term. Understanding what a component <em>is</em> becomes crucial to understanding Unity. In Unity's <a href="https://docs.unity3d.com/Manual/Components.html">Introduction to components</a>, they provide an unsatisfactory definition of a component.</p>
<blockquote>
<p>Components define the behaviour of that GameObject.</p>
</blockquote>
<p>While this is entirely accurate, especially within the context of Unity, it fails to provide a good idea of the fundamental concepts behind components.</p>
<h1>What is a component?</h1>
<p><a href="https://gameprogrammingpatterns.com/component.html">Game Programming Pattern</a>'s definition provides more insight into the purpose of a component.</p>
<blockquote>
<p>Allow a single entity to span multiple domains without coupling the domains to each other.</p>
</blockquote>
<p>Without reading further into the article, I find the definition sterile and hard to visualize. That said, I would highly recommend reading the rest article and the entirety of the book - it's worth it!</p>
<p>I'll make an effort to define a component as well.</p>
<blockquote>
<p>A component is a single, reusable domain behavior with an intuitive interface. </p>
</blockquote>
<p>As much as possible, a component should attempt to focus on a single behavior within a single domain. It should have a clear and simple interface to allow its entity, other entities, and other components to interact with its behavior.</p>
<p>I find that Unity's <a href="https://docs.unity3d.com/ScriptReference/CharacterController.html"><code>CharacterController</code></a> is an example of a good component. It exposes two public methods, <a href="https://docs.unity3d.com/ScriptReference/CharacterController.Move.html"><code>Move(Vector3)</code></a> and <a href="https://docs.unity3d.com/ScriptReference/CharacterController.SimpleMove.html"><code>SimpleMove(Vector3)</code></a>.</p>
<p><code>Move(Vector3 motion)</code> &quot;supplies the movement of a GameObject with an attached CharacterController component.&quot; It takes the desired movement vector and attempts to displace the GameObject to which it is attached. It makes no assumptions about gravity since different games have different requirements for gravity.</p>
<p><code>SimpleMove(Vector3 speed)</code> &quot;moves the character with speed.&quot; Speed is a movement vector -- a direction and speed to move per second. This method <em>does</em> make assumptions about gravity.</p>
<p><code>CharacterController</code> hides the complexity of ground collision, physics interactions, and movement interpolation. Additionally, the two methods hide or reveal certain complexities about how the component moves the character. Certain Unity-isms regarding Collision events notwithstanding, the interface is <em>very</em> simple and obvious.</p>
<h1>When should I create a new component?</h1>
<p>The obvious answer is whenever you need a new behavior. If you're unsure, it is always possible and encouraged to review and refactor code to identify the need for abstractions like a new component.</p>
<p>Using movement as an example again, should character rotation be part of the character movement component? The two often occur simultaneously and even rely on one another. It makes sense to combine rotation and displacement into the same behavior. There are likely cases where this may not be true, and in that instance, the developer should split them into separate components.</p>
<p>Should jumping be included in the movement component? I can imagine many scenarios where an entity would need to move but not jump. In those cases, it makes sense to separate them into different components.</p>
<p>I obviously won't iterate every possible decision on whether or not I would personally separate a behavior into a new component. It's important to make thoughtful decisions about your code architecture, similar to the examples above.</p>
<h1>Making a movement component</h1>
<p>Let's use Unity's <a href="https://docs.unity3d.com/ScriptReference/CharacterController.Move.html"><code>CharacterController.Move</code></a> example.</p>
<pre style="background-color:#25222a;">
<span style="color:#cdc6d8;">using </span><span style="color:#898295;">System.Collections;
</span><span style="color:#cdc6d8;">using </span><span style="color:#898295;">System.Collections.Generic;
</span><span style="color:#cdc6d8;">using </span><span style="color:#898295;">UnityEngine;
</span><span style="color:#898295;">
</span><span style="color:#67b1d7;">public class </span><span style="color:#cdc6d8;">Example </span><span style="color:#eff1f5;">: </span><span style="color:#69b7a6;">MonoBehaviour
</span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#67b1d7;">private </span><span style="color:#eff1f5;">CharacterController </span><span style="color:#cdc6d8;">controller</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">    </span><span style="color:#67b1d7;">private </span><span style="color:#eff1f5;">Vector3 </span><span style="color:#cdc6d8;">playerVelocity</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">    </span><span style="color:#67b1d7;">private bool </span><span style="color:#cdc6d8;">groundedPlayer</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">    </span><span style="color:#67b1d7;">private float </span><span style="color:#cdc6d8;">playerSpeed </span><span style="color:#c0c5ce;">= </span><span style="color:#cdc6d8;">2.0</span><span style="color:#67b1d7;">f</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">    </span><span style="color:#67b1d7;">private float </span><span style="color:#cdc6d8;">jumpHeight </span><span style="color:#c0c5ce;">= </span><span style="color:#cdc6d8;">1.0</span><span style="color:#67b1d7;">f</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">    </span><span style="color:#67b1d7;">private float </span><span style="color:#cdc6d8;">gravityValue </span><span style="color:#c0c5ce;">= -</span><span style="color:#cdc6d8;">9.81</span><span style="color:#67b1d7;">f</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#67b1d7;">private void </span><span style="color:#b887dd;">Start</span><span style="color:#eff1f5;">()
</span><span style="color:#eff1f5;">    {
</span><span style="color:#eff1f5;">        </span><span style="color:#cdc6d8;">controller </span><span style="color:#c0c5ce;">= </span><span style="color:#cdc6d8;">gameObject</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">AddComponent</span><span style="color:#eff1f5;">&lt;CharacterController&gt;();
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#67b1d7;">void </span><span style="color:#b887dd;">Update</span><span style="color:#eff1f5;">()
</span><span style="color:#eff1f5;">    {
</span><span style="color:#eff1f5;">        </span><span style="color:#cdc6d8;">groundedPlayer </span><span style="color:#c0c5ce;">= </span><span style="color:#cdc6d8;">controller</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">isGrounded</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        </span><span style="color:#cdc6d8;">if </span><span style="color:#eff1f5;">(</span><span style="color:#cdc6d8;">groundedPlayer </span><span style="color:#c0c5ce;">&amp;&amp; </span><span style="color:#cdc6d8;">playerVelocity</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">y </span><span style="color:#c0c5ce;">&lt; </span><span style="color:#cdc6d8;">0</span><span style="color:#eff1f5;">)
</span><span style="color:#eff1f5;">        {
</span><span style="color:#eff1f5;">            </span><span style="color:#cdc6d8;">playerVelocity</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">y </span><span style="color:#c0c5ce;">= </span><span style="color:#cdc6d8;">0</span><span style="color:#67b1d7;">f</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        Vector3 </span><span style="color:#cdc6d8;">move </span><span style="color:#c0c5ce;">= new </span><span style="color:#eff1f5;">Vector3(</span><span style="color:#cdc6d8;">Input</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">GetAxis</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#69b7a6;">Horizontal</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#eff1f5;">), </span><span style="color:#cdc6d8;">0</span><span style="color:#eff1f5;">, </span><span style="color:#cdc6d8;">Input</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">GetAxis</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#69b7a6;">Vertical</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#eff1f5;">));
</span><span style="color:#eff1f5;">        </span><span style="color:#cdc6d8;">controller</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">Move</span><span style="color:#eff1f5;">(</span><span style="color:#cdc6d8;">move </span><span style="color:#c0c5ce;">* </span><span style="color:#cdc6d8;">Time</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">deltaTime </span><span style="color:#c0c5ce;">* </span><span style="color:#cdc6d8;">playerSpeed</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#cdc6d8;">if </span><span style="color:#eff1f5;">(</span><span style="color:#cdc6d8;">move </span><span style="color:#c0c5ce;">!= </span><span style="color:#cdc6d8;">Vector3</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">zero</span><span style="color:#eff1f5;">)
</span><span style="color:#eff1f5;">        {
</span><span style="color:#eff1f5;">            </span><span style="color:#cdc6d8;">gameObject</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">transform</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">forward </span><span style="color:#c0c5ce;">= </span><span style="color:#cdc6d8;">move</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#898295;">// Changes the height position of the player..
</span><span style="color:#eff1f5;">        </span><span style="color:#cdc6d8;">if </span><span style="color:#eff1f5;">(</span><span style="color:#cdc6d8;">Input</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">GetButtonDown</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#69b7a6;">Jump</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#eff1f5;">) </span><span style="color:#c0c5ce;">&amp;&amp; </span><span style="color:#cdc6d8;">groundedPlayer</span><span style="color:#eff1f5;">)
</span><span style="color:#eff1f5;">        {
</span><span style="color:#eff1f5;">            </span><span style="color:#cdc6d8;">playerVelocity</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">y </span><span style="color:#c0c5ce;">+= </span><span style="color:#cdc6d8;">Mathf</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">Sqrt</span><span style="color:#eff1f5;">(</span><span style="color:#cdc6d8;">jumpHeight </span><span style="color:#c0c5ce;">* -</span><span style="color:#cdc6d8;">3.0</span><span style="color:#67b1d7;">f </span><span style="color:#c0c5ce;">* </span><span style="color:#cdc6d8;">gravityValue</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#cdc6d8;">playerVelocity</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">y </span><span style="color:#c0c5ce;">+= </span><span style="color:#cdc6d8;">gravityValue </span><span style="color:#c0c5ce;">* </span><span style="color:#cdc6d8;">Time</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">deltaTime</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        </span><span style="color:#cdc6d8;">controller</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">Move</span><span style="color:#eff1f5;">(</span><span style="color:#cdc6d8;">playerVelocity </span><span style="color:#c0c5ce;">* </span><span style="color:#cdc6d8;">Time</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">deltaTime</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">}
</span></pre>
<p>Although it's not relevant, this example goes against Unity's advice to not call <code>Move</code> or <code>SimpleMove</code> more than once per frame.</p>
<p>One of the first things to notice about this component is that it crosses two domains: input and movement. Let's start by separating those concerns.</p>
<h2>Separating concerns</h2>
<pre style="background-color:#25222a;">
<span style="color:#67b1d7;">public class </span><span style="color:#cdc6d8;">InputProvider </span><span style="color:#eff1f5;">: </span><span style="color:#69b7a6;">MonoBehaviour
</span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">  </span><span style="color:#67b1d7;">public </span><span style="color:#eff1f5;">Vector2 </span><span style="color:#cdc6d8;">CurrentDirection </span><span style="color:#eff1f5;">{ </span><span style="color:#67b1d7;">get</span><span style="color:#eff1f5;">; </span><span style="color:#67b1d7;">protected set</span><span style="color:#eff1f5;">; }
</span><span style="color:#eff1f5;">  </span><span style="color:#67b1d7;">public bool </span><span style="color:#cdc6d8;">WantsToJump </span><span style="color:#eff1f5;">{ </span><span style="color:#67b1d7;">get</span><span style="color:#eff1f5;">; </span><span style="color:#67b1d7;">protected set</span><span style="color:#eff1f5;">; }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">  </span><span style="color:#67b1d7;">private void </span><span style="color:#b887dd;">Update</span><span style="color:#eff1f5;">()
</span><span style="color:#eff1f5;">  {
</span><span style="color:#eff1f5;">    </span><span style="color:#cdc6d8;">CurrentDirection </span><span style="color:#c0c5ce;">= new </span><span style="color:#eff1f5;">Vector2(
</span><span style="color:#eff1f5;">      </span><span style="color:#cdc6d8;">Input</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">GetAxis</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#69b7a6;">Horizontal</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#eff1f5;">),
</span><span style="color:#eff1f5;">      </span><span style="color:#cdc6d8;">Input</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">GetAxis</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#69b7a6;">Vertical</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#eff1f5;">)
</span><span style="color:#eff1f5;">    );
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#cdc6d8;">WantsToJump </span><span style="color:#c0c5ce;">= </span><span style="color:#cdc6d8;">Input</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">GetButton</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#69b7a6;">Jump</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">  }
</span><span style="color:#eff1f5;">}
</span></pre>
<p>It doesn't seem like much, but small components like this one help separate unrelated logic to make them more composable. 
Let's refactor the remaining example code.</p>
<p>We'll start by renaming the class and the file to <code>EntityMovement</code> and <code>EntityMovement.cs</code>.</p>
<pre style="background-color:#25222a;">
<span style="color:#67b1d7;">public class </span><span style="color:#cdc6d8;">EntityMovement </span><span style="color:#eff1f5;">: </span><span style="color:#69b7a6;">MonoBehaviour
</span></pre>
<p>Now let's add a reference to our new <code>InputProvider</code> component.</p>
<pre style="background-color:#25222a;">
<span style="color:#67b1d7;">public class </span><span style="color:#cdc6d8;">EntityMovement </span><span style="color:#eff1f5;">: </span><span style="color:#69b7a6;">MonoBehaviour
</span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">  </span><span style="color:#67b1d7;">private </span><span style="color:#eff1f5;">InputProvider </span><span style="color:#cdc6d8;">input</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">  </span><span style="color:#898295;">// ...
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">  </span><span style="color:#67b1d7;">private void </span><span style="color:#b887dd;">Start</span><span style="color:#eff1f5;">()
</span><span style="color:#eff1f5;">  {
</span><span style="color:#eff1f5;">    </span><span style="color:#898295;">//...
</span><span style="color:#eff1f5;">    </span><span style="color:#cdc6d8;">input </span><span style="color:#c0c5ce;">= </span><span style="color:#cdc6d8;">gameObject</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">GetComponent</span><span style="color:#eff1f5;">&lt;InputProvider&gt;();
</span><span style="color:#eff1f5;">  }
</span></pre>
<p>With our reference to <code>InputProvider</code>, we can replace the existing <code>Input</code> references.</p>
<pre style="background-color:#25222a;">
<span style="color:#898295;">  </span><span style="color:#67b1d7;">private void </span><span style="color:#b887dd;">Update</span><span style="color:#898295;">()
</span><span style="color:#898295;">  {
</span><span style="color:#898295;">    // ...
</span><span style="color:#898295;">    Vector3 </span><span style="color:#cdc6d8;">move </span><span style="color:#c0c5ce;">= new </span><span style="color:#898295;">Vector3(</span><span style="color:#cdc6d8;">input</span><span style="color:#898295;">.</span><span style="color:#cdc6d8;">CurrentDirection</span><span style="color:#898295;">.</span><span style="color:#cdc6d8;">x</span><span style="color:#898295;">, </span><span style="color:#cdc6d8;">0</span><span style="color:#898295;">, </span><span style="color:#cdc6d8;">input</span><span style="color:#898295;">.</span><span style="color:#cdc6d8;">CurrentDirection</span><span style="color:#898295;">.</span><span style="color:#cdc6d8;">y</span><span style="color:#898295;">);
</span><span style="color:#898295;">    </span><span style="color:#cdc6d8;">controller</span><span style="color:#898295;">.</span><span style="color:#cdc6d8;">Move</span><span style="color:#898295;">(</span><span style="color:#cdc6d8;">move </span><span style="color:#c0c5ce;">* </span><span style="color:#cdc6d8;">Time</span><span style="color:#898295;">.</span><span style="color:#cdc6d8;">deltaTime </span><span style="color:#c0c5ce;">* </span><span style="color:#cdc6d8;">playerSpeed</span><span style="color:#898295;">);
</span><span style="color:#898295;">
</span><span style="color:#898295;">    </span><span style="color:#cdc6d8;">if </span><span style="color:#898295;">(</span><span style="color:#cdc6d8;">move </span><span style="color:#c0c5ce;">!= </span><span style="color:#cdc6d8;">Vector3</span><span style="color:#898295;">.</span><span style="color:#cdc6d8;">zero</span><span style="color:#898295;">)
</span><span style="color:#898295;">    {
</span><span style="color:#898295;">        </span><span style="color:#cdc6d8;">gameObject</span><span style="color:#898295;">.</span><span style="color:#cdc6d8;">transform</span><span style="color:#898295;">.</span><span style="color:#cdc6d8;">forward </span><span style="color:#c0c5ce;">= </span><span style="color:#cdc6d8;">move</span><span style="color:#898295;">;
</span><span style="color:#898295;">    }
</span><span style="color:#898295;">
</span><span style="color:#898295;">    </span><span style="color:#cdc6d8;">if </span><span style="color:#898295;">(</span><span style="color:#cdc6d8;">input</span><span style="color:#898295;">.</span><span style="color:#cdc6d8;">WantsToJump </span><span style="color:#c0c5ce;">&amp;&amp; </span><span style="color:#cdc6d8;">groundedPlayer</span><span style="color:#898295;">)
</span><span style="color:#898295;">    {
</span><span style="color:#898295;">        </span><span style="color:#cdc6d8;">playerVelocity</span><span style="color:#898295;">.</span><span style="color:#cdc6d8;">y </span><span style="color:#c0c5ce;">+= </span><span style="color:#cdc6d8;">Mathf</span><span style="color:#898295;">.</span><span style="color:#cdc6d8;">Sqrt</span><span style="color:#898295;">(</span><span style="color:#cdc6d8;">jumpHeight </span><span style="color:#c0c5ce;">* -</span><span style="color:#cdc6d8;">3.0</span><span style="color:#67b1d7;">f </span><span style="color:#c0c5ce;">* </span><span style="color:#cdc6d8;">gravityValue</span><span style="color:#898295;">);
</span><span style="color:#898295;">    }
</span><span style="color:#898295;">    // ..
</span><span style="color:#898295;">  }
</span></pre>
<p>Create a sphere with the <code>EntityMovement</code> and <code>InputProvider</code> components and move it with WASD or the arrow keys. It should operate like Unity's <code>Example</code> component, but now we've separated input handling from movement!
Unfortunately, the changes we've made only illustrate the concept of splitting concerns without actually having done anything practical. What <em>would</em> be useful is if these components were usable by more than the player character. Let's refactor our code to make that possible.</p>
<h2>Making it reusable</h2>
<p>For our components to be reusable, <code>InputProvider</code> needs to act as a generic interface rather than a thin proxy to <code>Input</code>. An easy way to accomplish this would be to refactor <code>InputProvider</code> as a C# <code>interface</code>. Thankfully Unity's <code>GetComponent</code> works with classes and interfaces. Be sure to remove <code>InputProvider</code> from the existing GameObject.</p>
<pre style="background-color:#25222a;">
<span style="color:#67b1d7;">public interface </span><span style="color:#898295;">InputProvider
</span><span style="color:#898295;">{
</span><span style="color:#898295;">  Vector2 </span><span style="color:#cdc6d8;">CurrentDirection </span><span style="color:#898295;">{ </span><span style="color:#67b1d7;">get</span><span style="color:#898295;">; }
</span><span style="color:#898295;">  </span><span style="color:#67b1d7;">bool </span><span style="color:#cdc6d8;">WantsToJump </span><span style="color:#898295;">{ </span><span style="color:#67b1d7;">get</span><span style="color:#898295;">; }
</span><span style="color:#898295;">}
</span><span style="color:#898295;">
</span></pre>
<p>A new component is required to implement the interface, <code>PlayerInputProvider</code>. It will contain the implementation details that previously lived in <code>InputProvider</code>.</p>
<pre style="background-color:#25222a;">
<span style="color:#67b1d7;">public class </span><span style="color:#cdc6d8;">PlayerInputProvider </span><span style="color:#eff1f5;">: </span><span style="color:#69b7a6;">MonoBehaviour</span><span style="color:#eff1f5;">, </span><span style="color:#69b7a6;">InputProvider
</span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">  </span><span style="color:#67b1d7;">public </span><span style="color:#eff1f5;">Vector2 </span><span style="color:#cdc6d8;">CurrentDirection </span><span style="color:#eff1f5;">{ </span><span style="color:#67b1d7;">get</span><span style="color:#eff1f5;">; </span><span style="color:#67b1d7;">protected set</span><span style="color:#eff1f5;">; }
</span><span style="color:#eff1f5;">  </span><span style="color:#67b1d7;">public bool </span><span style="color:#cdc6d8;">WantsToJump </span><span style="color:#eff1f5;">{ </span><span style="color:#67b1d7;">get</span><span style="color:#eff1f5;">; </span><span style="color:#67b1d7;">protected set</span><span style="color:#eff1f5;">; }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">  </span><span style="color:#67b1d7;">private void </span><span style="color:#b887dd;">Update</span><span style="color:#eff1f5;">()
</span><span style="color:#eff1f5;">  {
</span><span style="color:#eff1f5;">    </span><span style="color:#cdc6d8;">CurrentDirection </span><span style="color:#c0c5ce;">= new </span><span style="color:#eff1f5;">Vector2(
</span><span style="color:#eff1f5;">      </span><span style="color:#cdc6d8;">Input</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">GetAxis</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#69b7a6;">Horizontal</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#eff1f5;">),
</span><span style="color:#eff1f5;">      </span><span style="color:#cdc6d8;">Input</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">GetAxis</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#69b7a6;">Vertical</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#eff1f5;">)
</span><span style="color:#eff1f5;">    );
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#cdc6d8;">WantsToJump </span><span style="color:#c0c5ce;">= </span><span style="color:#cdc6d8;">Input</span><span style="color:#eff1f5;">.</span><span style="color:#cdc6d8;">GetButton</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#69b7a6;">Jump</span><span style="color:#c0c5ce;">&quot;</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">  }
</span><span style="color:#eff1f5;">}
</span></pre>
<p>Attach <code>PlayerInputProvider</code> to the player object and ensure the character moves again. A future component could be <code>EnemyInputProvider</code> which determines movement based on a <code>NavMeshAgent</code>. </p>

</main>

      </div>
      <footer class="has-padding center">
        
        &copy; 2023 Kitsune Cafe - Made with <a href="https://github.com/kitsunecafe/roxy">Roxy</a>
        
      </footer>
    </div>
</body>

</html>

